<% provide(:title, "Drivers") %>

<div class="column col-12">
  <h1>Drivers</h1>

  <%= link_to 'New driver', new_driver_path %>
  
  <table class="table">
    <thead>
      <tr>
        <th>#</th>
        <th>Photo</th>
        <th>Name</th>
        <th>Car</th>
        <th>Team</th>
        <th>Make/Model</th>
        <th>Speed</th>
        <% if current_user.admin? %>
          <th colspan="3"></th>
        <% else %>
          <th></th>
        <% end %>
      </tr>
    </thead>
    <tbody>
      <% @drivers.each do |driver| %>
        <tr>
          <td><%= driver.number %></td>
          <td><img src="<%= driver.driver_image %>" alt="<%= driver.name %>" style="height: 48px"/></td>
          <td><%= driver.name %></td>
          <td><img src="<%= driver.car_image %>" alt="<%= driver.team %> car" style="height: 48px"/></td>
          <td><%= driver.team %></td>
          <td><%= driver.make_model %></td>
          <td><%= driver.qualifying_speed %></td>
          <td><%= link_to 'Show', driver_path(driver) %></td>
          <% if current_user.admin? %>
            <td><%= link_to 'Edit', edit_driver_path(driver) %></td>
            <td><%= link_to 'Delete', driver_path(driver), method: :delete, data: {confirm: "Are you sure?"} %></td>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>